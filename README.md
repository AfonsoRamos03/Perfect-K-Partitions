#Perfect K-Partitions

To give more context on what a k-partition is, for example, the blocks {5, 1, 1, 1}, {2, 5, 1}, {8} form a perfect 3-partition of the list {1, 1, 1, 1, 2, 5, 5, 8}, where each block sums to 8.

On the other hand, it is easy to verify that {3, 4, 5, 6} does not admit any perfect 3-partition, although it does admit, for example, the perfect 2-partition formed by the blocks {3, 6} and {4, 5}.

Given k and a non-empty list of positive values x, the goal is to simulate the evolution of a population over a given period of time TFim, starting with an initial number NInd of individuals (which in this case should be understood as k-partitions of x), according to their adaptation to the problem (which will be maximized for perfect k-partitions). The program ends by displaying an exact solution if found at any time, or showing the best approximate solutions present in the population at the end of the simulation period. During the simulation, the population evolves through processes of mutation, reproduction, and death, governed by random laws dependent on given parameters TMut, TRep, and TMor. These evolutionary mechanisms produce changes in the individuals and their associated k-partitions. Each individual must have a unique identifier, and multiple individuals can coexist with the same associated k-partition. Each individual should also maintain information about its perfect blocks, i.e., blocks whose sum is exactly perf(x, k), and the time at which these blocks were formed.

At any given time, if an individual has an associated k-partition given by blocks y1, y2, ..., yk, its adaptation coefficient is given by the average deviation of the sum of each block relative to the perfect block.

At time zero, the start of the simulation, each individual in the initial population is assigned a random k-partition, obtained by uniformly choosing a block (from 1 to k) for each element of the original list.

The simulator should be constructed using the technique of stochastic digital simulation by pending event sequencing. The simulation involves three main types of events:

Mutation involves each individual and occurs with an exponential random variable of mean TMut. This results in altering the associated partition as follows: First, two blocks, y> and y<, are randomly and uniformly selected from the current partition. The sum of y> should be greater than the perfect sum, and the sum of (y<) should be less. The difference between these sums is then calculated. A value x is randomly and uniformly selected from the block y>. Successive values x' are randomly and uniformly selected from the block y< while there are still unselected values and the sum of all selected x' is less than x - difference/2. Finally, the value x is transferred to block y<, and all selected values x' are transferred to block y>.

Reproduction involves parent and mother individuals, chosen uniformly from the population, and occurs with an exponential random variable of mean TRep. This results in the eventual birth of a new individual to be added to the population according to the following rules: If the partition associated with the parent does not have any perfect blocks, reproduction has no effect. Otherwise, one of the perfect blocks of the parent is randomly and uniformly selected. If the selected perfect block from the parent cannot be reconstructed with the elements of the imperfect blocks of the mother, reproduction has no effect. If it can be reconstructed, reproduction produces a child whose associated partition contains all perfect blocks from the mother and the selected perfect block from the parent. The remaining elements of x are distributed randomly and uniformly among the available blocks. The formation times of the perfect blocks from the parents are inherited by the child.

Finally, Global Death occurs with an exponential random variable of mean TMor. This results in the simultaneous elimination of all individuals in the population whose associated partition has at least one perfect block, and whose most recent perfect block has an age greater than twice the time of formation of their oldest perfect block. If the population becomes empty, it is repopulated with random individuals obtained in the same manner as the initial population.
